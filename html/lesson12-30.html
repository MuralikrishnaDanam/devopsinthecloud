    <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-xs-12">
                   <!-- Main Body Content -->
                    <h2 class="page-title bg-primary">4.6 Script the upgrade and downgrade of a database</h2>
               <!-- inner body -->
                <div class="inner-body panel">
                    <h4 class="sub-heading">Learning Objectives</h4>
                    <p>By the end of this lesson you will be able to -</p>
                    <ul class="edited-ul">
                        <li>Upgrade and downgrade the database through a script.</li>
                    </ul>
                       </div>  
                     </div>
                     </div>
                 </div>
                <!-- inner body ends here -->
                <!-- container-fluid start here -->
                <div class="container-fluid">        
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h4 class="bg-info secondary-header">Use this for subheaders</h4>
                        <div class="inner-body panel">
                          <ul class="ul-listed">
                            <li>Create a new target in <strong>database-integration.xml</strong> as shown below. Modify the database driver.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">&lt;target name="update-database"&gt;
  &lt;taskdef name="updateDatabase" classname="liquibase.ant.DatabaseUpdateTask" 
    classpathref="project.class.path" /&gt;
  &lt;updateDatabase changeLogFile="database.changelog.xml"
    driver="org.apache.derby.jdbc.EmbeddedDriver"
    url="jdbc:derby:brewery"
    username=""
    password=""
    dropFirst="true"
    classpathref="project.class.path"/&gt;</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                          </li>  
                              <li>Create a new file called <strong>database.changelog.xml</strong> and put it in the software directory.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.7"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.7
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.7.xsd"&gt;
  &lt;changeSet id="2" author="paul"&gt;
    &lt;createTable tableName="brewer"&gt;
      &lt;column name="id" type="int"&gt;
        &lt;constraints primaryKey="true" nullable="false"/&gt;
      &lt;/column&gt;
      &lt;column name="name" type="varchar(255)"&gt;
        &lt;constraints nullable="false"/&gt;
      &lt;/column&gt;
      &lt;column name="active" type="boolean" defaultValue="1"/&gt;
    &lt;/createTable&gt;
  &lt;/changeSet&gt;
&lt;/databaseChangeLog&gt;</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                              </li>
                              <li>Be sure to include the new Ant target as a dependent target. Then, run the Ant build again. Go to MySQL to find the change.</li>   
                          </ul>  
                        </div>
                    </div>
                </div>
            </div>
            <!-- container-fluid ends here -->
             <!-- container-fluid start here -->
                <div class="container-fluid">        
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <h4 class="bg-info secondary-header">Apply database changes (OPTIONAL)</h4>
                        <div class="inner-body panel">
                          <ul class="ul-listed">
                            <li>Change to the <strong>sample_app</strong> directory.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">cd ~/sample_app</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                          </li>  
                              <li>Rollback changes that were previously applied to a database.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">sudo rake db:rollback</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                              </li>
                            <li>The example below is part of the sample application for Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl. You can also define the <a href="https://github.com/railstutorial/sample_app/blob/master/db/schema.rb" target="_blank">database schema</a> in a script.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">class CreateUsers < ActiveRecord::Migration
  def self.up
    create_table :users do |t|
    t.string :name
    t.string :email

    t.timestamps
  end
end

  def self.down
    drop_table :users
  end
end</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                              </li>
                             <li>The example below is using a tool called Liquibase for database change management.
                              <!-- code block -->
                                    <figure class="highlight">
                                 	   <pre>
            <code class="language-html" data-lang="html">&lt;changeSet id="4" author="paul"&gt;
  &lt;addColumn tableName="student"&gt;
    &lt;column name="twitter" type="varchar(255)"/&gt;
  &lt;/addColumn&gt;
&lt;/changeSet&gt;</code>
                                   		</pre>
                                    </figure>
                           <!--code block ends here-->
                              </li>
                          </ul>  
                        </div>
                    </div>
                </div>
            </div>
            <!-- container-fluid ends here -->
       <!--  main div box close here--> </div>
    <!-- Page Content Wrapper--> </div>
<!-- /#wrapper -->